# 前端优化三两事

> 在前端领域，由于我们是没有I/O的。所以说针对前端的优化从这么几个点可以考虑。首先是从减少HTTP请求和CPU的计算，其次呢，我们可以在内存和缓存的方面进行优化。

1. __静态资源的合并:__ 为什么我们要对静态资源进行合并呢，原因就是我们要减少HTTP请求，我们对项目进行打包也是把js、css等文件合并起来，浏览器只需要发送少量请求便可以拿到文件，但是文件全部合并的话单文件又会变得很巨大，所以我们需要在数量上做一个取舍。
2. __静态资源的缓存:__ 我们都知道，在APP上我们使用的很多数据都是从缓存中去拿的，那么我们能不能对这些可能一段时间内不会改变的东西进行缓存呢？当然是可以的，我们http协议上就有关于缓存的字段，有兴趣的可以去了解一下，这里就不多说了。
3. __CDN分发网络:__ 我们做一个假设，我们的服务器架设在北京，现在，我们一个新疆的用户要去访问服务器去拿资源，这时候就会经过非常多的路由，跋山涉水的去到北京，然后拿到我们想要的数据，那么我们有没有一种办法不让用户跑这么远呢？当然是有的啦，我们使用CDN，把资源放在上面，当用户请求资源的时候，我们就会从离用户最近的节点去返回用户所需要的资源，这样就能够节省很多的资源。
4. __SSR渲染:__ 我们首先要清楚，SSR是什么，其实就是服务器渲染的意思，我们所请求的html先在服务器端渲染好，然后再返回给用户，这样就不需要我们浏览器去一次一次的发送ajax请求去拿数据再渲染了。
5. __减少DOM查询:__ 我们都知道，关于DOM的操作都是昂贵的，如果在我们的项目中，我们对一个DOM去反复的查询，这是不好的，我们可以用一个变量将DOM查询的结果缓存下来，后面再使用。
6. __减少DOM操作:__ 其实看过Vue的源码的同学都知道，对一大串需要我们进行操作的DOM，我们不要一个一个的去操作，那么我们该怎么办呢？在DOM的api中有这么一个东西，**document.documentCreateFragment()**，我们将我们要操作的节点加入到这个片段中，然后我们再一次性的插入到DOM树中。
7. __事件节流:__ 有的时候我们需要监听频繁触发的事件，但是这样就会造成频繁的触发这个事件，然而我们并不希望这么做，我们希望能1秒或者2秒监听一次。举个栗子，在英语作文网站里面在线的写作文，他会有个自动保存。我们假设一下，我们是在keyup事件触发的时候进行保存的，那么我们打字很快的时候，就会一直触发这个事件，我们希望的是在用户停止输入两秒钟之后才会触发保存的函数，这时候，我们就需要使用定时器来定一个时间，如果用户在这个时间间隔内再次触发事件的话，就清除定时器重新设置。
8. __非核心js异步加载:__ 对于js来说我们使用异步加载有几个通用的手段，第一种，直接使用js代码来异步加载，也是我们用的比较多的一种方法，直接通过js来向dom中加入一个script标签来加载。第二种方法是defer，这里就把第三种方法说了吧async，这两个是有区别的，在这里说一个明显的区别就是，在script标签上加了defer的js，会在dom解析完成之后，按照顺序进行执行，而async是谁先加载完就会执行谁，而不是顺序执行的。
9. __DNS预解析:__

```html      
<meta http-equiv="x-dns-prefetch-control" content="on" />
```

我们可以去看支付宝针对DNS预解析，但是多页面重复DNS预解析会增加重复DNS查询次数，即相同域名都加了预解析标签。所以对于这个一定要小心。

 以上就是对前端优化的一些方法，当然了对于前端的优化肯定不止这一点，我们还需要继续学习。
